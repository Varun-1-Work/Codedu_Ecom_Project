{% load static %}

<header class="header_section">
    <div class="container">
        <nav class="navbar navbar-expand-lg custom_nav-container">

            <a class="navbar-brand" href="{% url 'home' %}">
                <img width="250" src="{% static 'images/logo.png' %}" alt="Logo">
            </a>

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent">
                <span></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ml-auto">

                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'home' %}">Home</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'blog' %}">Blog</a>
                    </li>

                    {% if user.is_authenticated %}
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'collections' %}">Collections</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'logout' %}">Logout</a>
                        </li>
                    {% else %}
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown">
                                Register
                            </a>
                            <ul class="dropdown-menu">
                                <li><a href="{% url 'login' %}">Login</a></li>
                                <li><a href="{% url 'register' %}">Register</a></li>
                            </ul>
                        </li>
                    {% endif %}

                    <!-- CART ICON -->
                    <li class="nav-item">
                        <a class="nav-link nav-cart-link" href="{% url 'cart_detail' %}" title="View Cart">

                            <!-- Working SVG -->
                            <svg width="22" height="22" viewBox="0 0 456.029 456.029">
                                <g>
                                    <g>
                                        <path
                                            d="M345.6,338.862c-29.184,0-53.248,23.552-53.248,53.248
                                            c0,29.184,23.552,53.248,53.248,53.248
                                            c29.184,0,53.248-23.552,53.248-53.248
                                            C398.336,362.926,374.784,338.862,345.6,338.862z" />
                                    </g>
                                </g>
                                <g>
                                    <g>
                                        <path
                                            d="M439.296,84.91c-1.024,0-2.56-0.512-4.096-0.512H112.64l-5.12-34.304
                                            C104.448,27.566,84.992,10.67,61.952,10.67H20.48
                                            C9.216,10.67,0,19.886,0,31.15c0,11.264,9.216,20.48,20.48,20.48h41.472
                                            c2.56,0,4.608,2.048,5.12,4.608l31.744,216.064
                                            c4.096,27.136,27.648,47.616,55.296,47.616h212.992
                                            c26.624,0,49.664-18.944,55.296-45.056l33.28-166.4
                                            C457.728,97.71,450.56,86.958,439.296,84.91z" />
                                    </g>
                                </g>
                                <g>
                                    <g>
                                        <path
                                            d="M215.04,389.55c-1.024-28.16-24.576-50.688-52.736-50.688
                                            c-29.696,1.536-52.224,26.112-51.2,55.296
                                            c1.024,28.16,24.064,50.688,52.224,50.688h1.024
                                            C193.536,443.31,216.576,418.734,215.04,389.55z" />
                                    </g>
                                </g>
                            </svg>

                            {% if cart_count|default:0 > 0 %}
                                <span class="cart-badge">{{ cart_count }}</span>
                            {% endif %}
                        </a>
                    </li>

                </ul>


            </div>
        </nav>
    </div>

    <style>
        .nav-cart-link {
            position: relative;
            color: inherit;
            text-decoration: none;
        }

        .cart-badge {
            position: absolute;
            top: -6px;
            right: -8px;
            background: #dc3545;
            color: #fff;
            padding: 2px 6px;
            border-radius: 50%;
            font-size: 12px;
            line-height: 1;
            box-shadow: 0 0 0 2px #fff;
        }
    </style>

</header>
